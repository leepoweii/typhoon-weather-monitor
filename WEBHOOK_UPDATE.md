# Webhook Handler 關鍵字檢查更新

## 更新內容

**日期:** 2025-01-05  
**版本:** v2.5.0

### 變更說明

將 LINE Bot webhook handler 的關鍵字檢查邏輯從「包含檢查」改為「完全相等檢查」。

### 具體變更

#### 舊邏輯
```python
# 檢查是否為觸發關鍵字
trigger_keywords = ["颱風", "天氣", "狀況", "警報", "風險", "監控", "檢查"]

if any(keyword in user_message for keyword in trigger_keywords):
    # 觸發回應
```

#### 新邏輯
```python
# 只回應完全相等的「颱風現況」關鍵字
if user_message == "颱風現況":
    # 觸發回應
```

### 行為變化對比

| 訊息 | 舊邏輯 | 新邏輯 | 說明 |
|------|--------|--------|------|
| `颱風現況` | ✅ 會觸發 | ✅ 會觸發 | 保持一致 |
| `颱風` | ✅ 會觸發 | ❌ 不觸發 | 行為改變 |
| `天氣` | ✅ 會觸發 | ❌ 不觸發 | 行為改變 |
| `警報` | ✅ 會觸發 | ❌ 不觸發 | 行為改變 |
| `查詢颱風現況` | ✅ 會觸發 | ❌ 不觸發 | 行為改變 |
| `颱風現況如何` | ✅ 會觸發 | ❌ 不觸發 | 行為改變 |
| `Hello` | ❌ 不觸發 | ❌ 不觸發 | 保持一致 |

### 更新原因

1. **精確控制**: 避免意外觸發，只有明確輸入「颱風現況」才會回應
2. **減少誤觸**: 防止包含關鍵字的一般對話觸發系統回應
3. **使用者體驗**: 提供更明確的使用指引

### 測試驗證

已通過 `test_keyword_logic.py` 測試，確認：
- 只有 `颱風現況` 完全相等時才觸發
- 包含空格、標點符號或其他文字的訊息不會觸發
- 舊關鍵字（颱風、天氣、警報等）不再觸發

### 其他功能

以下功能不受影響：
- 天氣特報自動推送 (每5分鐘檢查)
- API 端點 (`/api/status`, `/api/line/test-notification`)
- 儀表板 (`/`)
- 系統持續監控

### 用戶使用方式

用戶現在只需要發送完全相等的訊息：
```
颱風現況
```

其他訊息（如「查詢颱風現況」、「颱風」、「天氣」等）將不會觸發回應。
